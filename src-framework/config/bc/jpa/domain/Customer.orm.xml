<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns="http://java.sun.com/xml/ns/persistence/orm"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd" version="1.0">

	<named-query name="READ_CUSTOMER_BY_USER_NAME" >
		<query>SELECT customer FROM org.broadleafcommerce.profile.domain.Customer customer
		WHERE customer.username = :username</query>
	</named-query>

	<named-query name="READ_CUSTOMER_BY_EMAIL" >
		<query>SELECT customer FROM org.broadleafcommerce.profile.domain.Customer customer
		WHERE customer.emailAddress = :email</query>
	</named-query>

	<entity class="org.broadleafcommerce.profile.domain.BroadleafCustomer" name="customer">
        <table name="BLC_CUSTOMER" >
        	<unique-constraint>
        		<column-name>USER_NAME</column-name>
        	</unique-constraint>
        </table>
        <inheritance strategy="JOINED"/>
        
        <attributes>
            <id name="id">            	
            	<column name="CUSTOMER_ID"/>
                <generated-value/>
                
            </id>
            <basic name="username">
                <column name="USER_NAME" />
            </basic>
            <basic name="password">
                <column name="PASSWORD"/>
            </basic>
            <basic name="firstName">
            	<column name="FIRST_NAME"/>
            </basic>
            <basic name="lastName">
            	<column name="LAST_NAME"/>
            </basic>
            <basic name="emailAddress">
            	<column name="EMAIL_ADDRESS"/>
            </basic>
            <basic name="challengeQuestion">
            	<column name="CHALLENGE_QUESTION"/>
            </basic>
            <basic name="challengeAnswer">
            	<column name="CHALLENGE_ANSWER"/>
            </basic>
            <basic name="passwordChangeRequired">
            	<column name="PASSWORD_CHANGE_REQUIRED"/>
            </basic>
			<transient name="unencodedPassword"/>
			<transient name="logger"/>			            
        </attributes>
    </entity>



</entity-mappings>